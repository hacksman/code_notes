#what

shino 是一个分布式无代码化爬虫框架

#when
shino 是在公司只有一个人的情况下，却需要爬取几千个站点的海量数据信息的场景下搭建的

#where


#why
人生苦短，爬虫的代码模块非常类似
批量管理起来比较方便，各种爬虫的状态等

#who
需要采集海量信息

#how
整个项目分为 5 大模块，分别为种子生成器、下载器、解析器、清洗器和存储器。每个模块可以独立部署，中间通过消息队列进行信息通信。使得各模块的功能可以独立开发测试，非常灵活

设计架构图.jpg

##种子生成器
生成初始的爬取 url

依赖：_seed_sch 表
功能：
- 生成初始 url
- 根据特定参数生成批量初始 url
- 读取第三方数据库数据批量生成 url
- crontab 命令定时调度
- 一次性任务
- 自定义动态 url 中间件

##下载器
对待爬取的 url 进行下载

依赖： _request_depned 表
功能：
- 配置代理采集
- 配置cookies采集
- 配置自定义请求头采集
- 配置请求重试规则
- 自定义下载中间件

##解析器
依赖：_parse_list、_parse_detail

功能：
- 配置列表页解析规则
- 配置详情页解析规则
- xpath、json 解析数据
- 解析到的列表页数据重新交由下载器


##清洗器
入库前的数据清洗工作

功能：
- 数据默认值设置
- 数据类型转换


##存储器
对清洗过来的数据进行入库

依赖：_topic
功能：
- 根据主题表动态建表
- 数据入库





