## 简介
shino 项目分为 5 大模块，分别为种子生成器、下载器、解析器、清洗器和存储器。模块与模块之间通过消息队列进行通信，解耦各模块带来的好处是可以分别部署独立开发，非常灵活

## 架构图
![](https://gitee.com/hacksman/img_host/raw/master/img/shino_architecture.jpg)

## 功能模块
### 种子生成器
生成初始的爬取 url

依赖：\_seed_sch 表

功能：
- 生成初始 url
- 根据特定参数生成批量初始 url
- 读取外部数据库数据批量生成 url
- crontab 命令定时调度
- 一次性任务
- 自定义动态 url 中间件

### 下载器
对待爬取的 url 进行下载

依赖： \_request_depned 表

功能：
- 配置代理采集
- 配置多 cookies 采集
- 配置自定义请求头采集
- 配置请求重试规则
- 自定义下载器


### 解析器
依赖：\_parse_list、\_parse_detail 表

功能：
- 列表页解析
- 详情页解析
- 生成下一页采集
- 生成子页采集
- xpath、json 解析数据


### 清洗器
入库前的数据清洗工作

功能：
- 数据默认值设置
- 数据类型转换


### 存储器
对清洗过来的数据统一入库

依赖：\_topic 表

功能：
- 根据主题表动态建表
- 数据入库
